# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션

#    🚀 2단계 - 지하철 구간 추가 리팩터링
 
###    기능 요구사항
    요구사항 설명에서 제공되는 추가된 요구사항을 기반으로 지하철 구간 관리 기능을 리팩터링하세요.
    추가된 요구사항을 정의한 인수 조건을 도출하세요.
    인수 조건을 검증하는 인수 테스트를 작성하세요.
    예외 케이스에 대한 검증도 포함하세요.
    
###    프로그래밍 요구사항
    인수 테스트 주도 개발 프로세스에 맞춰서 기능을 구현하세요.
        요구사항 설명을 참고하여 인수 조건을 정의
        인수 조건을 검증하는 인수 테스트 작성
        인수 테스트를 충족하는 기능 구현
    인수 조건은 인수 테스트 메서드 상단에 주석으로 작성하세요.
        뼈대 코드의 인수 테스트를 참고
    인수 테스트 이후 기능 구현은 TDD로 진행하세요.
        도메인 레이어 테스트는 필수
        서비스 레이어 테스트는 선택

##변경된 스펙 - 구간 추가 제약사항 변경
###역 사이에 새로운 역을 등록할 경우

- 기존 구간의 역을 기준으로 새로운 구간을 추가
    - 기존 구간 A-C에 신규 구간 A-B를 추가하는 경우 A역을 기준으로 추가
    - 기존 구간과 신규 구간이 모두 같을 순 없음(아래 예외사항에 기재됨)
    - 결과로 A-B, B-C 구간이 생김
- 새로운 길이를 뺀 나머지를 새롭게 추가된 역과의 길이로 설정

###노선 조회시 응답되는 역 목록 수정
- 구간이 저장되는 순서로 역 목록을 조회할 경우 순서가 다르게 조회될 수 있음
- 아래의 순서대로 역 목록을 응답하는 로직을 변경해야 함
  1. 상행 종점이 상행역인 구간을 먼저 찾는다.
  2. 그 다음, 해당 구간의 하행역이 상행역인 다른 구간을 찾는다.
  3. 2번을 반복하다가 하행 종점역을 찾으면 조회를 멈춘다.
 
##변경된 스펙 - 예외 케이스
###역 사이에 새로운 역을 등록할 경우 기존 역 사이 길이보다 크거나 같으면 등록을 할 수 없음

###상행역과 하행역이 이미 노선에 모두 등록되어 있다면 추가할 수 없음

###상행역과 하행역 둘 중 하나도 포함되어있지 않으면 추가할 수 없음